(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[701],{1886:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(8475).A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},3061:(e,r,a)=>{"use strict";var t=a(4369);a.o(t,"usePathname")&&a.d(r,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(r,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(r,{useSearchParams:function(){return t.useSearchParams}})},5931:(e,r,a)=>{Promise.resolve().then(a.bind(a,8235))},6462:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(8475).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},8235:(e,r,a)=>{"use strict";a.d(r,{ReservationForm:()=>p});var t=a(1215),s=a(5591),o=a(3061),n=a(9435),i=a(9935),l=a(8475);let c=(0,l.A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var d=a(6462),m=a(8240);let u=(0,l.A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var h=a(1886),x=a(9925);function p(){let{user:e}=(0,x.A)(),r=(0,o.useRouter)(),[a,l]=(0,s.useState)({nome:(null==e?void 0:e.name)||"",email:(null==e?void 0:e.email)||"",telefone:"",checkin:"",checkout:"",adultos:1,criancas:0,tipoQuarto:"",pacote:"",mensagem:"",newsletter:!0}),[p,b]=(0,s.useState)(!1),[g,f]=(0,s.useState)(!1),v={"Chal\xe9 Adobe":420,"Chal\xe9 Mata":350,Suite:280,"Chal\xe9 Luxo":500},y=async t=>{if(t.preventDefault(),!e){r.push("/login?callbackUrl=/reserva");return}if(!a.nome||!a.email||!a.checkin||!a.checkout||!a.tipoQuarto){alert("Por favor, preencha todos os campos obrigat\xf3rios.");return}if(new Date(a.checkout)<=new Date(a.checkin)){alert("A data de check-out deve ser posterior \xe0 data de check-in.");return}f(!0);try{await new Promise(e=>setTimeout(e,2e3)),b(!0)}catch(e){console.error("Erro ao processar reserva:",e),alert("Erro ao processar reserva. Tente novamente.")}finally{f(!1)}},k=e=>{let{name:r,value:a,type:t}=e.target;l(s=>({...s,[r]:"checkbox"===t?e.target.checked:a}))};if(p)return(0,t.jsxs)("div",{className:"card p-8 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("h2",{className:"font-playfair text-2xl text-amber-800 mb-4",children:"Reserva Enviada!"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Sua solicita\xe7\xe3o de reserva foi enviada com sucesso. Nossa equipe entrar\xe1 em contato em breve para confirma\xe7\xe3o e pagamento."}),(0,t.jsx)("button",{onClick:()=>r.push("/dashboard"),className:"btn-primary",children:"Ver Minhas Reservas"})]});let j=(()=>{if(!a.checkin||!a.checkout||!a.tipoQuarto)return 0;let e=new Date(a.checkin),r=Math.ceil((new Date(a.checkout).getTime()-e.getTime())/864e5);return(v[a.tipoQuarto]||0)*r})();return(0,t.jsxs)("div",{className:"card p-8",children:[(0,t.jsx)("h1",{className:"font-playfair text-2xl md:text-3xl text-amber-800 mb-4",children:"Fa\xe7a Sua Reserva"}),(0,t.jsx)("p",{className:"text-gray-600 mb-8",children:"Preencha os detalhes abaixo para solicitar sua reserva. Campos marcados com * s\xe3o obrigat\xf3rios."}),!e&&(0,t.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:(0,t.jsxs)("p",{className:"text-amber-800 text-sm",children:[(0,t.jsx)("strong",{children:"Aten\xe7\xe3o:"})," Voc\xea precisa estar logado para fazer uma reserva."," ",(0,t.jsx)("button",{onClick:()=>r.push("/login?callbackUrl=/reserva"),className:"underline hover:no-underline",children:"Fa\xe7a login aqui"})]})}),(0,t.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"nome",className:"block text-sm font-medium text-amber-800 mb-2",children:[(0,t.jsx)(n.A,{className:"w-4 h-4 inline mr-2"}),"Nome Completo *"]}),(0,t.jsx)("input",{type:"text",id:"nome",name:"nome",value:a.nome,onChange:k,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors",placeholder:"Seu nome completo"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-amber-800 mb-2",children:[(0,t.jsx)(i.A,{className:"w-4 h-4 inline mr-2"}),"E-mail *"]}),(0,t.jsx)("input",{type:"email",id:"email",name:"email",value:a.email,onChange:k,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors",placeholder:"seu@email.com"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"telefone",className:"block text-sm font-medium text-amber-800 mb-2",children:[(0,t.jsx)(c,{className:"w-4 h-4 inline mr-2"}),"Telefone *"]}),(0,t.jsx)("input",{type:"tel",id:"telefone",name:"telefone",value:a.telefone,onChange:k,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors",placeholder:"(XX) XXXXX-XXXX"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"checkin",className:"block text-sm font-medium text-amber-800 mb-2",children:[(0,t.jsx)(d.A,{className:"w-4 h-4 inline mr-2"}),"Check-in *"]}),(0,t.jsx)("input",{type:"date",id:"checkin",name:"checkin",value:a.checkin,onChange:k,required:!0,min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"checkout",className:"block text-sm font-medium text-amber-800 mb-2",children:[(0,t.jsx)(d.A,{className:"w-4 h-4 inline mr-2"}),"Check-out *"]}),(0,t.jsx)("input",{type:"date",id:"checkout",name:"checkout",value:a.checkout,onChange:k,required:!0,min:a.checkin||new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"adultos",className:"block text-sm font-medium text-amber-800 mb-2",children:[(0,t.jsx)(m.A,{className:"w-4 h-4 inline mr-2"}),"Adultos *"]}),(0,t.jsx)("input",{type:"number",id:"adultos",name:"adultos",value:a.adultos,onChange:k,min:"1",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"criancas",className:"block text-sm font-medium text-amber-800 mb-2",children:[(0,t.jsx)(m.A,{className:"w-4 h-4 inline mr-2"}),"Crian\xe7as (0-12)"]}),(0,t.jsx)("input",{type:"number",id:"criancas",name:"criancas",value:a.criancas,onChange:k,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"tipoQuarto",className:"block text-sm font-medium text-amber-800 mb-2",children:"Tipo de Acomoda\xe7\xe3o *"}),(0,t.jsxs)("select",{id:"tipoQuarto",name:"tipoQuarto",value:a.tipoQuarto,onChange:k,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors",children:[(0,t.jsx)("option",{value:"",disabled:!0,children:"Selecione sua acomoda\xe7\xe3o"}),(0,t.jsx)("option",{value:"Chal\xe9 Adobe",children:"Chal\xe9 de Adobe - R$ 420/noite"}),(0,t.jsx)("option",{value:"Chal\xe9 Mata",children:"Chal\xe9 da Mata - R$ 350/noite"}),(0,t.jsx)("option",{value:"Suite",children:"Su\xedte Premium - R$ 280/noite"}),(0,t.jsx)("option",{value:"Chal\xe9 Luxo",children:"Chal\xe9 de Luxo - R$ 500/noite"})]})]}),j>0&&(0,t.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"font-semibold text-amber-800",children:"Valor Total Estimado:"}),(0,t.jsxs)("span",{className:"text-2xl font-bold text-amber-800",children:["R$ ",j]})]}),(0,t.jsxs)("p",{className:"text-sm text-amber-600 mt-1",children:[Math.ceil((new Date(a.checkout).getTime()-new Date(a.checkin).getTime())/864e5)," noites"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"mensagem",className:"block text-sm font-medium text-amber-800 mb-2",children:[(0,t.jsx)(u,{className:"w-4 h-4 inline mr-2"}),"Pedidos Especiais ou Informa\xe7\xf5es Adicionais"]}),(0,t.jsx)("textarea",{id:"mensagem",name:"mensagem",value:a.mensagem,onChange:k,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors resize-vertical",placeholder:"Nos conte sobre qualquer necessidade especial, restri\xe7\xe3o alimentar ou solicita\xe7\xe3o espec\xedfica..."})]}),(0,t.jsxs)("button",{type:"submit",className:"btn-primary w-full text-lg py-4 disabled:opacity-50",disabled:g||!e,children:[(0,t.jsx)(h.A,{className:"w-5 h-5 inline mr-2"}),g?"Processando...":"Enviar Solicita\xe7\xe3o de Reserva"]})]})]})}},8240:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(8475).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},8475:(e,r,a)=>{"use strict";a.d(r,{A:()=>l});var t=a(5591);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=function(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return r.filter((e,r,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===r).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)((e,r)=>{let{color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:m,...u}=e;return(0,t.createElement)("svg",{ref:r,...n,width:s,height:s,stroke:a,strokeWidth:l?24*Number(i)/Number(s):i,className:o("lucide",c),...u},[...m.map(e=>{let[r,a]=e;return(0,t.createElement)(r,a)}),...Array.isArray(d)?d:[d]])}),l=(e,r)=>{let a=(0,t.forwardRef)((a,n)=>{let{className:l,...c}=a;return(0,t.createElement)(i,{ref:n,iconNode:r,className:o("lucide-".concat(s(e)),l),...c})});return a.displayName="".concat(e),a}},9435:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(8475).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},9925:(e,r,a)=>{"use strict";a.d(r,{A:()=>i,O:()=>n});var t=a(1215),s=a(5591);let o=(0,s.createContext)(void 0);function n(e){let{children:r}=e,[a,n]=(0,s.useState)(null),[i,l]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=localStorage.getItem("user");e&&n(JSON.parse(e)),l(!1)},[]);let c=async(e,r)=>{let a=[{id:"1",email:"admin@pousadasavacipo.com.br",password:"admin123",name:"Administrador",role:"admin"},{id:"2",email:"cliente@email.com",password:"123456",name:"Cliente Teste",role:"user"}].find(a=>a.email===e&&a.password===r);if(a){let e={id:a.id,email:a.email,name:a.name,role:a.role};return n(e),localStorage.setItem("user",JSON.stringify(e)),!0}return!1};return(0,t.jsx)(o.Provider,{value:{user:a,login:c,logout:()=>{n(null),localStorage.removeItem("user")},isLoading:i},children:r})}function i(){let e=(0,s.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9935:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(8475).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])}},e=>{var r=r=>e(e.s=r);e.O(0,[403,255,358],()=>r(5931)),_N_E=e.O()}]);